2022-11-17 14:56:27.743786Z	warn	base	config/default.go:396	no IP or interface name configured
2022-11-17 14:56:27.743993Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.0.0, IP: , PID: 3255881, UID: 37F413E5-AFA2-43D4-B45B-0360D2E03FCB, CONTAINER: , HOSTNAME:-------
2022-11-17 14:56:27.744102Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2022-11-17 14:56:27.744122Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2022-11-17 14:56:27.744346Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2022-11-17 14:56:27.744355Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2022-11-17 14:56:27.744360Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2022-11-17 14:56:27.744366Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2022-11-17 14:56:27.744371Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2022-11-17 14:56:27.744568Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2022-11-17 14:56:27.744578Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2022-11-17 14:56:27.744584Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2022-11-17 14:56:27.744589Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2022-11-17 14:56:27.744594Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2022-11-17 14:56:27.744793Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2022-11-17 14:56:27.745014Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2022-11-17 14:56:27.745028Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2022-11-17 14:56:27.745033Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2022-11-17 14:56:27.745039Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2022-11-17 14:56:27.745045Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2022-11-17 14:56:27.745051Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2022-11-17 14:56:27.745057Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2022-11-17 14:56:27.745065Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2022-11-17 14:56:27.745084Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2022-11-17 14:56:27.748429Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2022-11-17 14:56:27.748456Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2022-11-17 14:56:27.748467Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2022-11-17 14:56:27.748474Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2022-11-17 14:56:27.748479Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2022-11-17 14:56:27.748487Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2022-11-17 14:56:27.748519Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2022-11-17 14:56:27.748525Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2022-11-17 14:56:27.748531Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2022-11-17 14:56:27.748537Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2022-11-17 14:56:27.749320Z	info	base	api/config.go:333	
37F413E5-AFA2-43D4-B45B-0360D2E03FCB, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2022-11-17 14:56:27.749339Z	info	base	api/config.go:338	
-------37F413E5-AFA2-43D4-B45B-0360D2E03FCB, All plugins and engine initialized successfully-------
2022-11-17 14:56:27.749392Z	info	base	common/cache_persist.go:163	Start to load cache from /root/polaris/backup/client_info.json
2022-11-17 14:56:27.750172Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2022-11-17 14:56:27.750185Z	info	base	startup/client_report.go:144	client area info is ready
2022-11-17 14:56:27.750195Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2022-11-17 14:56:27.750203Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2022-11-17 14:56:27.750218Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2022-11-17 14:56:27.750223Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2022-11-17 14:56:27.750232Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2022-11-17 14:56:27.750239Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2022-11-17 14:56:27.750244Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2022-11-17 14:56:27.750251Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2022-11-17 14:56:27.750256Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2022-11-17 14:56:27.750260Z	info	base	api/config.go:348	
-------37F413E5-AFA2-43D4-B45B-0360D2E03FCB, All plugins and engine started successfully-------
2022-11-17 14:56:27.750269Z	info	base	api/config.go:356	
-------37F413E5-AFA2-43D4-B45B-0360D2E03FCB, SDKContext init successfully-------
2022-11-17 14:56:27.750356Z	warn	base	config/default.go:396	no IP or interface name configured
2022-11-17 14:56:27.750380Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.0.0, IP: , PID: 3255881, UID: 18BD5C54-79E7-45B9-8850-0E499C49555E, CONTAINER: , HOSTNAME:-------
2022-11-17 14:56:27.750431Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2022-11-17 14:56:27.750445Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2022-11-17 14:56:27.750466Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2022-11-17 14:56:27.750466Z	info	base	inmemory/inmemory.go:545	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2022-11-17 14:56:27.750472Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2022-11-17 14:56:27.750709Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2022-11-17 14:56:27.750772Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2022-11-17 14:56:27.750660Z	info	base	common/discover.go:1124	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2022-11-17 14:56:27.750856Z	info	base	common/discover.go:1132	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2022-11-17 14:56:27.750883Z	info	base	inmemory/inmemory.go:547	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2022-11-17 14:56:27.750910Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2022-11-17 14:56:27.750927Z	info	base	inmemory/inmemory.go:545	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2022-11-17 14:56:27.750941Z	info	base	common/discover.go:1124	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2022-11-17 14:56:27.750951Z	info	base	common/discover.go:1132	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2022-11-17 14:56:27.750970Z	info	base	inmemory/inmemory.go:547	37F413E5-AFA2-43D4-B45B-0360D2E03FCB, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2022-11-17 14:56:27.751043Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2022-11-17 14:56:27.751737Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2022-11-17 14:56:27.751759Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2022-11-17 14:56:27.751768Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2022-11-17 14:56:27.752011Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2022-11-17 14:56:27.752237Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2022-11-17 14:56:27.752261Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2022-11-17 14:56:27.752268Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2022-11-17 14:56:27.752275Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2022-11-17 14:56:27.752283Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2022-11-17 14:56:27.752289Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2022-11-17 14:56:27.752295Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2022-11-17 14:56:27.752300Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2022-11-17 14:56:27.752306Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2022-11-17 14:56:27.752313Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2022-11-17 14:56:27.752320Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2022-11-17 14:56:27.752326Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2022-11-17 14:56:27.752342Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2022-11-17 14:56:27.752350Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2022-11-17 14:56:27.752500Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:50846, IP is 9.135.226.157, hashValue is 5665045886207813890
2022-11-17 14:56:27.753621Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2022-11-17 14:56:27.753637Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2022-11-17 14:56:27.753644Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2022-11-17 14:56:27.753652Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2022-11-17 14:56:27.753680Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2022-11-17 14:56:27.753686Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2022-11-17 14:56:27.753692Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2022-11-17 14:56:27.753698Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2022-11-17 14:56:27.754405Z	info	base	api/config.go:333	
18BD5C54-79E7-45B9-8850-0E499C49555E, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2022-11-17 14:56:27.754425Z	info	base	api/config.go:338	
-------18BD5C54-79E7-45B9-8850-0E499C49555E, All plugins and engine initialized successfully-------
2022-11-17 14:56:27.754480Z	info	base	common/cache_persist.go:163	Start to load cache from /root/polaris/backup_USA/client_info.json
2022-11-17 14:56:27.754506Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 2.0.0, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2022-11-17 14:56:27.754519Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2022-11-17 14:56:27.754527Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2022-11-17 14:56:27.754533Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2022-11-17 14:56:27.754540Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2022-11-17 14:56:27.754546Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2022-11-17 14:56:27.754551Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2022-11-17 14:56:27.754556Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2022-11-17 14:56:27.754562Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2022-11-17 14:56:27.754570Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2022-11-17 14:56:27.754574Z	info	base	api/config.go:348	
-------18BD5C54-79E7-45B9-8850-0E499C49555E, All plugins and engine started successfully-------
2022-11-17 14:56:27.754583Z	info	base	api/config.go:356	
-------18BD5C54-79E7-45B9-8850-0E499C49555E, SDKContext init successfully-------
2022-11-17 14:56:27.754608Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2022-11-17 14:56:27.754632Z	info	base	inmemory/inmemory.go:545	18BD5C54-79E7-45B9-8850-0E499C49555E, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2022-11-17 14:56:27.754649Z	info	base	common/discover.go:1124	18BD5C54-79E7-45B9-8850-0E499C49555E, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2022-11-17 14:56:27.754665Z	info	base	common/discover.go:1132	18BD5C54-79E7-45B9-8850-0E499C49555E, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2022-11-17 14:56:27.754674Z	info	base	inmemory/inmemory.go:547	18BD5C54-79E7-45B9-8850-0E499C49555E, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2022-11-17 14:56:27.754689Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2022-11-17 14:56:27.754698Z	info	base	inmemory/inmemory.go:545	18BD5C54-79E7-45B9-8850-0E499C49555E, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2022-11-17 14:56:27.754710Z	info	base	common/discover.go:1124	18BD5C54-79E7-45B9-8850-0E499C49555E, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2022-11-17 14:56:27.754721Z	info	base	common/discover.go:1132	18BD5C54-79E7-45B9-8850-0E499C49555E, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2022-11-17 14:56:27.754729Z	info	base	inmemory/inmemory.go:547	18BD5C54-79E7-45B9-8850-0E499C49555E, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2022-11-19 17:28:07.428087Z	warn	base	config/default.go:396	no IP or interface name configured
2022-11-19 17:28:07.428239Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.0.0, IP: , PID: 761492, UID: EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, CONTAINER: , HOSTNAME:-------
2022-11-19 17:28:07.428335Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2022-11-19 17:28:07.428363Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2022-11-19 17:28:07.428372Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2022-11-19 17:28:07.428574Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2022-11-19 17:28:07.428777Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2022-11-19 17:28:07.428791Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2022-11-19 17:28:07.428798Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2022-11-19 17:28:07.428804Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2022-11-19 17:28:07.429030Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2022-11-19 17:28:07.429056Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2022-11-19 17:28:07.429072Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2022-11-19 17:28:07.429089Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2022-11-19 17:28:07.429106Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2022-11-19 17:28:07.429113Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2022-11-19 17:28:07.429331Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2022-11-19 17:28:07.429352Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2022-11-19 17:28:07.429359Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2022-11-19 17:28:07.429366Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2022-11-19 17:28:07.429374Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2022-11-19 17:28:07.429386Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2022-11-19 17:28:07.429395Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2022-11-19 17:28:07.429413Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2022-11-19 17:28:07.432602Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2022-11-19 17:28:07.432641Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2022-11-19 17:28:07.432653Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2022-11-19 17:28:07.432666Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2022-11-19 17:28:07.432676Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2022-11-19 17:28:07.432689Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2022-11-19 17:28:07.432727Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2022-11-19 17:28:07.432741Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2022-11-19 17:28:07.432748Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2022-11-19 17:28:07.432761Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2022-11-19 17:28:07.433489Z	info	base	api/config.go:333	
EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2022-11-19 17:28:07.433518Z	info	base	api/config.go:338	
-------EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, All plugins and engine initialized successfully-------
2022-11-19 17:28:07.433598Z	info	base	common/cache_persist.go:163	Start to load cache from /root/polaris/backup/client_info.json
2022-11-19 17:28:07.434326Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2022-11-19 17:28:07.434349Z	info	base	startup/client_report.go:144	client area info is ready
2022-11-19 17:28:07.434362Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2022-11-19 17:28:07.434380Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2022-11-19 17:28:07.434410Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2022-11-19 17:28:07.434427Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2022-11-19 17:28:07.434433Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2022-11-19 17:28:07.434439Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2022-11-19 17:28:07.434445Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2022-11-19 17:28:07.434454Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2022-11-19 17:28:07.434459Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2022-11-19 17:28:07.434464Z	info	base	api/config.go:348	
-------EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, All plugins and engine started successfully-------
2022-11-19 17:28:07.434483Z	info	base	api/config.go:356	
-------EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, SDKContext init successfully-------
2022-11-19 17:28:07.434623Z	warn	base	config/default.go:396	no IP or interface name configured
2022-11-19 17:28:07.434610Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2022-11-19 17:28:07.434655Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.0.0, IP: , PID: 761492, UID: 1AAF34EE-AC26-4613-B53E-F579EF31E385, CONTAINER: , HOSTNAME:-------
2022-11-19 17:28:07.434685Z	info	base	inmemory/inmemory.go:545	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2022-11-19 17:28:07.434717Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2022-11-19 17:28:07.434719Z	info	base	common/discover.go:1124	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2022-11-19 17:28:07.434734Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2022-11-19 17:28:07.434743Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2022-11-19 17:28:07.434757Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2022-11-19 17:28:07.434763Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2022-11-19 17:28:07.434743Z	info	base	common/discover.go:1132	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2022-11-19 17:28:07.434881Z	info	base	inmemory/inmemory.go:547	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2022-11-19 17:28:07.435095Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2022-11-19 17:28:07.435161Z	info	base	inmemory/inmemory.go:545	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2022-11-19 17:28:07.435188Z	info	base	common/discover.go:1124	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2022-11-19 17:28:07.435219Z	info	base	common/discover.go:1132	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2022-11-19 17:28:07.435240Z	info	base	inmemory/inmemory.go:547	EA0CB18C-AE8D-4E93-A046-5DADD095DC4D, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2022-11-19 17:28:07.435369Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2022-11-19 17:28:07.435682Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2022-11-19 17:28:07.435719Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2022-11-19 17:28:07.435751Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2022-11-19 17:28:07.435782Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2022-11-19 17:28:07.436077Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2022-11-19 17:28:07.436287Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:48602, IP is 9.135.226.157, hashValue is 5665045886207813890
2022-11-19 17:28:07.436327Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2022-11-19 17:28:07.436341Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2022-11-19 17:28:07.436356Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2022-11-19 17:28:07.436374Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2022-11-19 17:28:07.436384Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2022-11-19 17:28:07.436393Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2022-11-19 17:28:07.436402Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2022-11-19 17:28:07.436414Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2022-11-19 17:28:07.436429Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2022-11-19 17:28:07.436437Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2022-11-19 17:28:07.436449Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2022-11-19 17:28:07.438312Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2022-11-19 17:28:07.438342Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2022-11-19 17:28:07.438361Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2022-11-19 17:28:07.438381Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2022-11-19 17:28:07.438397Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2022-11-19 17:28:07.438406Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2022-11-19 17:28:07.438446Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2022-11-19 17:28:07.438463Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2022-11-19 17:28:07.438474Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2022-11-19 17:28:07.438486Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2022-11-19 17:28:07.443721Z	info	base	api/config.go:333	
1AAF34EE-AC26-4613-B53E-F579EF31E385, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2022-11-19 17:28:07.443780Z	info	base	api/config.go:338	
-------1AAF34EE-AC26-4613-B53E-F579EF31E385, All plugins and engine initialized successfully-------
2022-11-19 17:28:07.443871Z	info	base	common/cache_persist.go:163	Start to load cache from /root/polaris/backup_USA/client_info.json
2022-11-19 17:28:07.443934Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 2.0.0, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2022-11-19 17:28:07.443964Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2022-11-19 17:28:07.443987Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2022-11-19 17:28:07.444002Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2022-11-19 17:28:07.444020Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2022-11-19 17:28:07.444041Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2022-11-19 17:28:07.444061Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2022-11-19 17:28:07.444078Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2022-11-19 17:28:07.444092Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2022-11-19 17:28:07.444111Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2022-11-19 17:28:07.444114Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2022-11-19 17:28:07.444149Z	info	base	inmemory/inmemory.go:545	1AAF34EE-AC26-4613-B53E-F579EF31E385, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2022-11-19 17:28:07.444179Z	info	base	common/discover.go:1124	1AAF34EE-AC26-4613-B53E-F579EF31E385, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2022-11-19 17:28:07.444128Z	info	base	api/config.go:348	
-------1AAF34EE-AC26-4613-B53E-F579EF31E385, All plugins and engine started successfully-------
2022-11-19 17:28:07.444213Z	info	base	api/config.go:356	
-------1AAF34EE-AC26-4613-B53E-F579EF31E385, SDKContext init successfully-------
2022-11-19 17:28:07.444200Z	info	base	common/discover.go:1132	1AAF34EE-AC26-4613-B53E-F579EF31E385, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2022-11-19 17:28:07.444286Z	info	base	inmemory/inmemory.go:547	1AAF34EE-AC26-4613-B53E-F579EF31E385, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2022-11-19 17:28:07.444324Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2022-11-19 17:28:07.444342Z	info	base	inmemory/inmemory.go:545	1AAF34EE-AC26-4613-B53E-F579EF31E385, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2022-11-19 17:28:07.444354Z	info	base	common/discover.go:1124	1AAF34EE-AC26-4613-B53E-F579EF31E385, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2022-11-19 17:28:07.444369Z	info	base	common/discover.go:1132	1AAF34EE-AC26-4613-B53E-F579EF31E385, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2022-11-19 17:28:07.444377Z	info	base	inmemory/inmemory.go:547	1AAF34EE-AC26-4613-B53E-F579EF31E385, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-02-07 18:27:02.565664Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-07 18:27:02.579357Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 335548, UID: 7C0FC43F-C47E-417B-AEA2-B45CAAD57772, CONTAINER: , HOSTNAME:-------
2023-02-07 18:27:02.579505Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-07 18:27:02.579523Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-07 18:27:02.579531Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-07 18:27:02.579538Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-07 18:27:02.579544Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-07 18:27:02.579550Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-07 18:27:02.579756Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-07 18:27:02.579763Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-07 18:27:02.579769Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-07 18:27:02.579774Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-07 18:27:02.579779Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-07 18:27:02.579785Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-07 18:27:02.579979Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-07 18:27:02.580173Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-07 18:27:02.580180Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-07 18:27:02.580185Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-07 18:27:02.580193Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-07 18:27:02.580215Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-07 18:27:02.580223Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-07 18:27:02.580229Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-07 18:27:02.580240Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-07 18:27:02.580245Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-07 18:27:02.583217Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-07 18:27:02.583283Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-07 18:27:02.583295Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-07 18:27:02.583303Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-07 18:27:02.583309Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-07 18:27:02.583319Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-02-07 18:27:02.584247Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-07 18:27:02.584261Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-07 18:27:02.584272Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-07 18:27:02.584281Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-07 18:27:02.585029Z	info	base	api/config.go:333	
7C0FC43F-C47E-417B-AEA2-B45CAAD57772, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-07 18:27:02.585052Z	info	base	api/config.go:338	
-------7C0FC43F-C47E-417B-AEA2-B45CAAD57772, All plugins and engine initialized successfully-------
2023-02-07 18:27:02.585115Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-02-07 18:27:02.623070Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-02-07 18:27:02.623116Z	info	base	startup/client_report.go:144	client area info is ready
2023-02-07 18:27:02.623136Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-07 18:27:02.623152Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-07 18:27:02.623170Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-07 18:27:02.623179Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-07 18:27:02.623185Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-07 18:27:02.623191Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-07 18:27:02.623219Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-07 18:27:02.623227Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-07 18:27:02.623235Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-07 18:27:02.623241Z	info	base	api/config.go:348	
-------7C0FC43F-C47E-417B-AEA2-B45CAAD57772, All plugins and engine started successfully-------
2023-02-07 18:27:02.623260Z	info	base	api/config.go:356	
-------7C0FC43F-C47E-417B-AEA2-B45CAAD57772, SDKContext init successfully-------
2023-02-07 18:27:02.623324Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-07 18:27:02.623350Z	info	base	inmemory/inmemory.go:545	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-07 18:27:02.623366Z	info	base	common/discover.go:1121	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-07 18:27:02.623378Z	info	base	common/discover.go:1129	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-07 18:27:02.623377Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-07 18:27:02.623390Z	info	base	inmemory/inmemory.go:547	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-02-07 18:27:02.623405Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-07 18:27:02.623414Z	info	base	inmemory/inmemory.go:545	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-07 18:27:02.623413Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 335548, UID: 70204D40-2F8E-41FA-8157-1B97E3BCC7BB, CONTAINER: , HOSTNAME:-------
2023-02-07 18:27:02.623424Z	info	base	common/discover.go:1121	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-07 18:27:02.623441Z	info	base	common/discover.go:1129	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-07 18:27:02.623449Z	info	base	inmemory/inmemory.go:547	7C0FC43F-C47E-417B-AEA2-B45CAAD57772, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-02-07 18:27:02.623505Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-07 18:27:02.623521Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-07 18:27:02.623531Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-07 18:27:02.623539Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-07 18:27:02.623546Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-07 18:27:02.623556Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-07 18:27:02.623740Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-07 18:27:02.623750Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-07 18:27:02.623946Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-07 18:27:02.624128Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-07 18:27:02.624134Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-07 18:27:02.624139Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-07 18:27:02.624145Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-07 18:27:02.624153Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-07 18:27:02.624160Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-07 18:27:02.624165Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-07 18:27:02.624170Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-07 18:27:02.624176Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-07 18:27:02.624182Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-07 18:27:02.624188Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-07 18:27:02.624193Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-07 18:27:02.624216Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-07 18:27:02.624250Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:35360, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-02-07 18:27:02.625405Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-07 18:27:02.625421Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-07 18:27:02.625439Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-07 18:27:02.625446Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-07 18:27:02.625451Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-07 18:27:02.625459Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-02-07 18:27:02.625491Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-07 18:27:02.625498Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-07 18:27:02.625503Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-07 18:27:02.625508Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-07 18:27:02.626185Z	info	base	api/config.go:333	
70204D40-2F8E-41FA-8157-1B97E3BCC7BB, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-07 18:27:02.626213Z	info	base	api/config.go:338	
-------70204D40-2F8E-41FA-8157-1B97E3BCC7BB, All plugins and engine initialized successfully-------
2023-02-07 18:27:02.626261Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-02-07 18:27:02.626900Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-02-07 18:27:02.626922Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-07 18:27:02.626929Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-07 18:27:02.626943Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-07 18:27:02.626952Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-07 18:27:02.626960Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-07 18:27:02.626977Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-07 18:27:02.626982Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-07 18:27:02.626988Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-07 18:27:02.626993Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-07 18:27:02.626997Z	info	base	api/config.go:348	
-------70204D40-2F8E-41FA-8157-1B97E3BCC7BB, All plugins and engine started successfully-------
2023-02-07 18:27:02.627008Z	info	base	api/config.go:356	
-------70204D40-2F8E-41FA-8157-1B97E3BCC7BB, SDKContext init successfully-------
2023-02-07 18:27:02.627077Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-07 18:27:02.627099Z	info	base	inmemory/inmemory.go:545	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-07 18:27:02.627111Z	info	base	common/discover.go:1121	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-07 18:27:02.627126Z	info	base	common/discover.go:1129	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-07 18:27:02.627135Z	info	base	inmemory/inmemory.go:547	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-02-07 18:27:02.627150Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-07 18:27:02.627160Z	info	base	inmemory/inmemory.go:545	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-07 18:27:02.627169Z	info	base	common/discover.go:1121	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-07 18:27:02.627177Z	info	base	common/discover.go:1129	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-07 18:27:02.627185Z	info	base	inmemory/inmemory.go:547	70204D40-2F8E-41FA-8157-1B97E3BCC7BB, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-02-07 19:10:44.934778Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-07 19:10:44.934886Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 352840, UID: 9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, CONTAINER: , HOSTNAME:-------
2023-02-07 19:10:44.934993Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-07 19:10:44.935017Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-07 19:10:44.935025Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-07 19:10:44.935031Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-07 19:10:44.935036Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-07 19:10:44.935041Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-07 19:10:44.935047Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-07 19:10:44.935257Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-07 19:10:44.935458Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-07 19:10:44.935669Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-07 19:10:44.935676Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-07 19:10:44.935681Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-07 19:10:44.935686Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-07 19:10:44.935691Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-07 19:10:44.935700Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-07 19:10:44.935706Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-07 19:10:44.935711Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-07 19:10:44.935716Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-07 19:10:44.935722Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-07 19:10:44.935727Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-07 19:10:44.935734Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-07 19:10:44.935739Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-07 19:10:44.938804Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-07 19:10:44.938846Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-07 19:10:44.938858Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-07 19:10:44.938867Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-07 19:10:44.938873Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-07 19:10:44.938883Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-02-07 19:10:44.938918Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-07 19:10:44.938926Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-07 19:10:44.938931Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-07 19:10:44.938937Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-07 19:10:44.939741Z	info	base	api/config.go:333	
9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-07 19:10:44.939765Z	info	base	api/config.go:338	
-------9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, All plugins and engine initialized successfully-------
2023-02-07 19:10:44.939879Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-02-07 19:10:44.941501Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-02-07 19:10:44.941571Z	info	base	startup/client_report.go:144	client area info is ready
2023-02-07 19:10:44.941592Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-07 19:10:44.941609Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-07 19:10:44.941631Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-07 19:10:44.941642Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-07 19:10:44.941654Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-07 19:10:44.941675Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-07 19:10:44.941687Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-07 19:10:44.941700Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-07 19:10:44.941707Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-07 19:10:44.941713Z	info	base	api/config.go:348	
-------9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, All plugins and engine started successfully-------
2023-02-07 19:10:44.941723Z	info	base	api/config.go:356	
-------9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, SDKContext init successfully-------
2023-02-07 19:10:44.941749Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-07 19:10:44.941782Z	info	base	inmemory/inmemory.go:545	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-07 19:10:44.941796Z	info	base	common/discover.go:1121	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-07 19:10:44.941811Z	info	base	common/discover.go:1129	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-07 19:10:44.941821Z	info	base	inmemory/inmemory.go:547	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-02-07 19:10:44.941833Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-07 19:10:44.941839Z	info	base	inmemory/inmemory.go:545	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-07 19:10:44.941851Z	info	base	common/discover.go:1121	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-07 19:10:44.941857Z	info	base	common/discover.go:1129	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-07 19:10:44.941859Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-07 19:10:44.941862Z	info	base	inmemory/inmemory.go:547	9E4D61D4-C71A-4FDE-BF31-9CE0100897B7, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-02-07 19:10:44.941921Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 352840, UID: 17848CD4-1566-460F-A61A-C223C91ADBA8, CONTAINER: , HOSTNAME:-------
2023-02-07 19:10:44.942027Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-07 19:10:44.942048Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-07 19:10:44.942055Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-07 19:10:44.942060Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-07 19:10:44.942065Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-07 19:10:44.942075Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-07 19:10:44.942305Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-07 19:10:44.942313Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-07 19:10:44.942319Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-07 19:10:44.942326Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-07 19:10:44.942529Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-07 19:10:44.942661Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:50594, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-02-07 19:10:44.942746Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-07 19:10:44.942756Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-07 19:10:44.942761Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-07 19:10:44.942768Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-07 19:10:44.942773Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-07 19:10:44.942780Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-07 19:10:44.942786Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-07 19:10:44.942792Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-07 19:10:44.942797Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-07 19:10:44.942803Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-07 19:10:44.942809Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-07 19:10:44.944050Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-07 19:10:44.944065Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-07 19:10:44.944083Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-07 19:10:44.944091Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-07 19:10:44.944096Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-07 19:10:44.944104Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-02-07 19:10:44.944129Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-07 19:10:44.944136Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-07 19:10:44.944141Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-07 19:10:44.944147Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-07 19:10:44.945555Z	info	base	api/config.go:333	
17848CD4-1566-460F-A61A-C223C91ADBA8, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-07 19:10:44.945592Z	info	base	api/config.go:338	
-------17848CD4-1566-460F-A61A-C223C91ADBA8, All plugins and engine initialized successfully-------
2023-02-07 19:10:44.945646Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-02-07 19:10:44.945673Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-02-07 19:10:44.945686Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-07 19:10:44.945693Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-07 19:10:44.945706Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-07 19:10:44.945712Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-07 19:10:44.945718Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-07 19:10:44.945723Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-07 19:10:44.945728Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-07 19:10:44.945735Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-07 19:10:44.945742Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-07 19:10:44.945747Z	info	base	api/config.go:348	
-------17848CD4-1566-460F-A61A-C223C91ADBA8, All plugins and engine started successfully-------
2023-02-07 19:10:44.945756Z	info	base	api/config.go:356	
-------17848CD4-1566-460F-A61A-C223C91ADBA8, SDKContext init successfully-------
2023-02-07 19:10:44.945820Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-07 19:10:44.945840Z	info	base	inmemory/inmemory.go:545	17848CD4-1566-460F-A61A-C223C91ADBA8, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-07 19:10:44.945855Z	info	base	common/discover.go:1121	17848CD4-1566-460F-A61A-C223C91ADBA8, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-07 19:10:44.945869Z	info	base	common/discover.go:1129	17848CD4-1566-460F-A61A-C223C91ADBA8, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-07 19:10:44.945875Z	info	base	inmemory/inmemory.go:547	17848CD4-1566-460F-A61A-C223C91ADBA8, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-02-07 19:10:44.945887Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-07 19:10:44.945894Z	info	base	inmemory/inmemory.go:545	17848CD4-1566-460F-A61A-C223C91ADBA8, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-07 19:10:44.945901Z	info	base	common/discover.go:1121	17848CD4-1566-460F-A61A-C223C91ADBA8, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-07 19:10:44.945907Z	info	base	common/discover.go:1129	17848CD4-1566-460F-A61A-C223C91ADBA8, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-07 19:10:44.945912Z	info	base	inmemory/inmemory.go:547	17848CD4-1566-460F-A61A-C223C91ADBA8, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-02-07 19:11:40.840367Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-07 19:11:40.840487Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 353992, UID: 7D1D0A5E-9A99-492B-9224-18843E8B6881, CONTAINER: , HOSTNAME:-------
2023-02-07 19:11:40.840612Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-07 19:11:40.840632Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-07 19:11:40.840840Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-07 19:11:40.840848Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-07 19:11:40.840854Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-07 19:11:40.840859Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-07 19:11:40.840864Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-07 19:11:40.840871Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-07 19:11:40.841063Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-07 19:11:40.841277Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-07 19:11:40.841289Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-07 19:11:40.841294Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-07 19:11:40.841299Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-07 19:11:40.841304Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-07 19:11:40.841317Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-07 19:11:40.841323Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-07 19:11:40.841328Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-07 19:11:40.841333Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-07 19:11:40.841339Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-07 19:11:40.841345Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-07 19:11:40.841351Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-07 19:11:40.841356Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-07 19:11:40.841364Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-07 19:11:40.841373Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-07 19:11:40.841380Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-07 19:11:40.844400Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-07 19:11:40.844445Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-07 19:11:40.844458Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-02-07 19:11:40.844498Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-07 19:11:40.844505Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-07 19:11:40.844511Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-07 19:11:40.844519Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-07 19:11:40.845276Z	info	base	api/config.go:333	
7D1D0A5E-9A99-492B-9224-18843E8B6881, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-07 19:11:40.845298Z	info	base	api/config.go:338	
-------7D1D0A5E-9A99-492B-9224-18843E8B6881, All plugins and engine initialized successfully-------
2023-02-07 19:11:40.845430Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-02-07 19:11:40.847110Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-02-07 19:11:40.847164Z	info	base	startup/client_report.go:144	client area info is ready
2023-02-07 19:11:40.847184Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-07 19:11:40.847205Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-07 19:11:40.847226Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-07 19:11:40.847232Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-07 19:11:40.847248Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-07 19:11:40.847254Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-07 19:11:40.847262Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-07 19:11:40.847268Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-07 19:11:40.847276Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-07 19:11:40.847281Z	info	base	api/config.go:348	
-------7D1D0A5E-9A99-492B-9224-18843E8B6881, All plugins and engine started successfully-------
2023-02-07 19:11:40.847295Z	info	base	api/config.go:356	
-------7D1D0A5E-9A99-492B-9224-18843E8B6881, SDKContext init successfully-------
2023-02-07 19:11:40.847407Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-07 19:11:40.847442Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-07 19:11:40.847456Z	info	base	inmemory/inmemory.go:545	7D1D0A5E-9A99-492B-9224-18843E8B6881, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-07 19:11:40.847486Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 353992, UID: 3DD78B7D-E001-42E1-B277-A719E7105844, CONTAINER: , HOSTNAME:-------
2023-02-07 19:11:40.847492Z	info	base	common/discover.go:1121	7D1D0A5E-9A99-492B-9224-18843E8B6881, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-07 19:11:40.847511Z	info	base	common/discover.go:1129	7D1D0A5E-9A99-492B-9224-18843E8B6881, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-07 19:11:40.847519Z	info	base	inmemory/inmemory.go:547	7D1D0A5E-9A99-492B-9224-18843E8B6881, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-02-07 19:11:40.847534Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-07 19:11:40.847541Z	info	base	inmemory/inmemory.go:545	7D1D0A5E-9A99-492B-9224-18843E8B6881, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-07 19:11:40.847548Z	info	base	common/discover.go:1121	7D1D0A5E-9A99-492B-9224-18843E8B6881, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-07 19:11:40.847553Z	info	base	common/discover.go:1129	7D1D0A5E-9A99-492B-9224-18843E8B6881, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-07 19:11:40.847558Z	info	base	inmemory/inmemory.go:547	7D1D0A5E-9A99-492B-9224-18843E8B6881, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-02-07 19:11:40.847564Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-07 19:11:40.847583Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-07 19:11:40.847595Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-07 19:11:40.847819Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-07 19:11:40.847835Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-07 19:11:40.847843Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-07 19:11:40.847849Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-07 19:11:40.847854Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-07 19:11:40.847860Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-07 19:11:40.847866Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-07 19:11:40.847872Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-07 19:11:40.847877Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-07 19:11:40.848065Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-07 19:11:40.848278Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-07 19:11:40.848291Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-07 19:11:40.848300Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-07 19:11:40.848307Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-07 19:11:40.848315Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-07 19:11:40.848323Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-07 19:11:40.848335Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-07 19:11:40.848343Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-07 19:11:40.848351Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-07 19:11:40.848364Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-07 19:11:40.848379Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-07 19:11:40.848407Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:35554, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-02-07 19:11:40.849571Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-07 19:11:40.849593Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-07 19:11:40.849602Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-07 19:11:40.849613Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-02-07 19:11:40.849649Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-07 19:11:40.849656Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-07 19:11:40.849662Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-07 19:11:40.849667Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-07 19:11:40.850365Z	info	base	api/config.go:333	
3DD78B7D-E001-42E1-B277-A719E7105844, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-07 19:11:40.850384Z	info	base	api/config.go:338	
-------3DD78B7D-E001-42E1-B277-A719E7105844, All plugins and engine initialized successfully-------
2023-02-07 19:11:40.850439Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-02-07 19:11:40.850478Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-02-07 19:11:40.850495Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-07 19:11:40.850502Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-07 19:11:40.850507Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-07 19:11:40.850513Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-07 19:11:40.850518Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-07 19:11:40.850531Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-07 19:11:40.850538Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-07 19:11:40.850547Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-07 19:11:40.850557Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-07 19:11:40.850563Z	info	base	api/config.go:348	
-------3DD78B7D-E001-42E1-B277-A719E7105844, All plugins and engine started successfully-------
2023-02-07 19:11:40.850571Z	info	base	api/config.go:356	
-------3DD78B7D-E001-42E1-B277-A719E7105844, SDKContext init successfully-------
2023-02-07 19:11:40.850658Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-07 19:11:40.850686Z	info	base	inmemory/inmemory.go:545	3DD78B7D-E001-42E1-B277-A719E7105844, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-07 19:11:40.850698Z	info	base	common/discover.go:1121	3DD78B7D-E001-42E1-B277-A719E7105844, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-07 19:11:40.850706Z	info	base	common/discover.go:1129	3DD78B7D-E001-42E1-B277-A719E7105844, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-07 19:11:40.850712Z	info	base	inmemory/inmemory.go:547	3DD78B7D-E001-42E1-B277-A719E7105844, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-02-07 19:11:40.850722Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-07 19:11:40.850729Z	info	base	inmemory/inmemory.go:545	3DD78B7D-E001-42E1-B277-A719E7105844, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-07 19:11:40.850742Z	info	base	common/discover.go:1121	3DD78B7D-E001-42E1-B277-A719E7105844, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-07 19:11:40.850748Z	info	base	common/discover.go:1129	3DD78B7D-E001-42E1-B277-A719E7105844, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-07 19:11:40.850753Z	info	base	inmemory/inmemory.go:547	3DD78B7D-E001-42E1-B277-A719E7105844, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-02-17 12:09:06.680914Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-17 12:09:06.681036Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 2052158, UID: C897FD3C-2846-476F-9C51-2735E5764AD9, CONTAINER: , HOSTNAME:-------
2023-02-17 12:09:06.681182Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-17 12:09:06.681223Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-17 12:09:06.681233Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-17 12:09:06.681244Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-17 12:09:06.681451Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-17 12:09:06.681462Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-17 12:09:06.681468Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-17 12:09:06.681479Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-17 12:09:06.681485Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-17 12:09:06.681496Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-17 12:09:06.681501Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-17 12:09:06.681712Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-17 12:09:06.681919Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-17 12:09:06.681930Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-17 12:09:06.681939Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-17 12:09:06.681950Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-17 12:09:06.681956Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-17 12:09:06.681965Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-17 12:09:06.681973Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-17 12:09:06.681983Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-17 12:09:06.681989Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-17 12:09:06.681996Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-17 12:09:06.682007Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-17 12:09:06.682018Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-17 12:09:06.685122Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-17 12:09:06.685193Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-17 12:09:06.685229Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-17 12:09:06.685246Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-02-17 12:09:06.685303Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-17 12:09:06.685318Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-17 12:09:06.685328Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-17 12:09:06.685338Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-17 12:09:06.686196Z	info	base	api/config.go:333	
C897FD3C-2846-476F-9C51-2735E5764AD9, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-17 12:09:06.686236Z	info	base	api/config.go:338	
-------C897FD3C-2846-476F-9C51-2735E5764AD9, All plugins and engine initialized successfully-------
2023-02-17 12:09:06.686324Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-02-17 12:09:06.687209Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-02-17 12:09:06.687232Z	info	base	startup/client_report.go:144	client area info is ready
2023-02-17 12:09:06.687244Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-17 12:09:06.687260Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-17 12:09:06.687273Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-17 12:09:06.687285Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-17 12:09:06.687292Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-17 12:09:06.687298Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-17 12:09:06.687308Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-17 12:09:06.687314Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-17 12:09:06.687320Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-17 12:09:06.687329Z	info	base	api/config.go:348	
-------C897FD3C-2846-476F-9C51-2735E5764AD9, All plugins and engine started successfully-------
2023-02-17 12:09:06.687340Z	info	base	api/config.go:356	
-------C897FD3C-2846-476F-9C51-2735E5764AD9, SDKContext init successfully-------
2023-02-17 12:09:06.687454Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-17 12:09:06.687511Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-17 12:09:06.687788Z	info	base	inmemory/inmemory.go:545	C897FD3C-2846-476F-9C51-2735E5764AD9, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-17 12:09:06.687850Z	info	base	common/discover.go:1121	C897FD3C-2846-476F-9C51-2735E5764AD9, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-17 12:09:06.687867Z	info	base	common/discover.go:1129	C897FD3C-2846-476F-9C51-2735E5764AD9, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-17 12:09:06.687884Z	info	base	inmemory/inmemory.go:547	C897FD3C-2846-476F-9C51-2735E5764AD9, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-02-17 12:09:06.687880Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 2052158, UID: 78522108-FAE0-46FA-AB0B-8A16A85B5770, CONTAINER: , HOSTNAME:-------
2023-02-17 12:09:06.687915Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-17 12:09:06.687933Z	info	base	inmemory/inmemory.go:545	C897FD3C-2846-476F-9C51-2735E5764AD9, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-17 12:09:06.687945Z	info	base	common/discover.go:1121	C897FD3C-2846-476F-9C51-2735E5764AD9, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-17 12:09:06.687954Z	info	base	common/discover.go:1129	C897FD3C-2846-476F-9C51-2735E5764AD9, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-17 12:09:06.687968Z	info	base	inmemory/inmemory.go:547	C897FD3C-2846-476F-9C51-2735E5764AD9, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-02-17 12:09:06.688058Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-17 12:09:06.688094Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-17 12:09:06.688120Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-17 12:09:06.688152Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-17 12:09:06.688171Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-17 12:09:06.688191Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-17 12:09:06.688807Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-17 12:09:06.688851Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-17 12:09:06.688868Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-17 12:09:06.688893Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-17 12:09:06.688908Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-17 12:09:06.688926Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-17 12:09:06.688939Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-17 12:09:06.689162Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-17 12:09:06.689306Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:33604, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-02-17 12:09:06.689422Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-17 12:09:06.689454Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-17 12:09:06.689465Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-17 12:09:06.689480Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-17 12:09:06.689493Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-17 12:09:06.689503Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-17 12:09:06.689518Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-17 12:09:06.689529Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-17 12:09:06.689546Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-17 12:09:06.689567Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-17 12:09:06.689584Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-17 12:09:06.691234Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-17 12:09:06.691255Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-17 12:09:06.691265Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-02-17 12:09:06.691301Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-17 12:09:06.691313Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-17 12:09:06.691319Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-17 12:09:06.691326Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-17 12:09:06.692028Z	info	base	api/config.go:333	
78522108-FAE0-46FA-AB0B-8A16A85B5770, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-17 12:09:06.692053Z	info	base	api/config.go:338	
-------78522108-FAE0-46FA-AB0B-8A16A85B5770, All plugins and engine initialized successfully-------
2023-02-17 12:09:06.692116Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-02-17 12:09:06.692162Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-02-17 12:09:06.692177Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-17 12:09:06.692193Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-17 12:09:06.692221Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-17 12:09:06.692231Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-17 12:09:06.692238Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-17 12:09:06.692244Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-17 12:09:06.692252Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-17 12:09:06.692259Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-17 12:09:06.692270Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-17 12:09:06.692279Z	info	base	api/config.go:348	
-------78522108-FAE0-46FA-AB0B-8A16A85B5770, All plugins and engine started successfully-------
2023-02-17 12:09:06.692295Z	info	base	api/config.go:356	
-------78522108-FAE0-46FA-AB0B-8A16A85B5770, SDKContext init successfully-------
2023-02-17 12:09:06.692321Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-17 12:09:06.692357Z	info	base	inmemory/inmemory.go:545	78522108-FAE0-46FA-AB0B-8A16A85B5770, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-17 12:09:06.692381Z	info	base	common/discover.go:1121	78522108-FAE0-46FA-AB0B-8A16A85B5770, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-17 12:09:06.692406Z	info	base	common/discover.go:1129	78522108-FAE0-46FA-AB0B-8A16A85B5770, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-17 12:09:06.692427Z	info	base	inmemory/inmemory.go:547	78522108-FAE0-46FA-AB0B-8A16A85B5770, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-02-17 12:09:06.692452Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-17 12:09:06.692466Z	info	base	inmemory/inmemory.go:545	78522108-FAE0-46FA-AB0B-8A16A85B5770, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-17 12:09:06.692476Z	info	base	common/discover.go:1121	78522108-FAE0-46FA-AB0B-8A16A85B5770, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-17 12:09:06.692496Z	info	base	common/discover.go:1129	78522108-FAE0-46FA-AB0B-8A16A85B5770, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-17 12:09:06.692507Z	info	base	inmemory/inmemory.go:547	78522108-FAE0-46FA-AB0B-8A16A85B5770, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-02-17 20:38:15.967832Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-17 20:38:15.967933Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.0.0, IP: , PID: 2280952, UID: 68E4FC46-488C-4FDC-9666-11442D2DED04, CONTAINER: , HOSTNAME:-------
2023-02-17 20:38:15.968038Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-17 20:38:15.968073Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2023-02-17 20:38:15.968085Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-17 20:38:15.968093Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-17 20:38:15.968099Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-17 20:38:15.968350Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-17 20:38:15.968564Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-17 20:38:15.968574Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-17 20:38:15.968583Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2023-02-17 20:38:15.968788Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2023-02-17 20:38:15.969003Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2023-02-17 20:38:15.969014Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2023-02-17 20:38:15.969020Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2023-02-17 20:38:15.969026Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2023-02-17 20:38:15.969034Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2023-02-17 20:38:15.969046Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2023-02-17 20:38:15.969051Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2023-02-17 20:38:15.969057Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2023-02-17 20:38:15.969069Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2023-02-17 20:38:15.969075Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2023-02-17 20:38:15.969081Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2023-02-17 20:38:15.969087Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-17 20:38:15.972076Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-17 20:38:15.972109Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-17 20:38:15.972123Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-17 20:38:15.972134Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-17 20:38:15.972141Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2023-02-17 20:38:15.972151Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-02-17 20:38:15.972188Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2023-02-17 20:38:15.972212Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2023-02-17 20:38:15.972224Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2023-02-17 20:38:15.972230Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-17 20:38:15.972963Z	info	base	api/config.go:333	
68E4FC46-488C-4FDC-9666-11442D2DED04, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-17 20:38:15.972994Z	info	base	api/config.go:338	
-------68E4FC46-488C-4FDC-9666-11442D2DED04, All plugins and engine initialized successfully-------
2023-02-17 20:38:15.973071Z	info	base	common/cache_persist.go:163	Start to load cache from /root/polaris/backup/client_info.json
2023-02-17 20:38:15.974745Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-02-17 20:38:15.974787Z	info	base	startup/client_report.go:144	client area info is ready
2023-02-17 20:38:15.974804Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-17 20:38:15.974823Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-17 20:38:15.974842Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-17 20:38:15.974857Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-17 20:38:15.974872Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-17 20:38:15.974887Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-17 20:38:15.974896Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-17 20:38:15.974906Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-17 20:38:15.974914Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-17 20:38:15.974928Z	info	base	api/config.go:348	
-------68E4FC46-488C-4FDC-9666-11442D2DED04, All plugins and engine started successfully-------
2023-02-17 20:38:15.974944Z	info	base	api/config.go:356	
-------68E4FC46-488C-4FDC-9666-11442D2DED04, SDKContext init successfully-------
2023-02-17 20:38:15.975004Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-17 20:38:15.975047Z	info	base	inmemory/inmemory.go:545	68E4FC46-488C-4FDC-9666-11442D2DED04, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-17 20:38:15.975058Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-17 20:38:15.975067Z	info	base	common/discover.go:1124	68E4FC46-488C-4FDC-9666-11442D2DED04, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-17 20:38:15.975101Z	info	base	common/discover.go:1132	68E4FC46-488C-4FDC-9666-11442D2DED04, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-17 20:38:15.975107Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.0.0, IP: , PID: 2280952, UID: 2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, CONTAINER: , HOSTNAME:-------
2023-02-17 20:38:15.975115Z	info	base	inmemory/inmemory.go:547	68E4FC46-488C-4FDC-9666-11442D2DED04, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-02-17 20:38:15.975208Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-17 20:38:15.975237Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2023-02-17 20:38:15.975238Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-17 20:38:15.975264Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-17 20:38:15.975279Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-17 20:38:15.975279Z	info	base	inmemory/inmemory.go:545	68E4FC46-488C-4FDC-9666-11442D2DED04, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-17 20:38:15.975288Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-17 20:38:15.975298Z	info	base	common/discover.go:1124	68E4FC46-488C-4FDC-9666-11442D2DED04, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-17 20:38:15.975307Z	info	base	common/discover.go:1132	68E4FC46-488C-4FDC-9666-11442D2DED04, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-17 20:38:15.975316Z	info	base	inmemory/inmemory.go:547	68E4FC46-488C-4FDC-9666-11442D2DED04, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-02-17 20:38:15.975518Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-17 20:38:15.975712Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-17 20:38:15.975725Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-17 20:38:15.975781Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:47456, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-02-17 20:38:15.975950Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2023-02-17 20:38:15.976141Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2023-02-17 20:38:15.976155Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2023-02-17 20:38:15.976163Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2023-02-17 20:38:15.976173Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2023-02-17 20:38:15.976182Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2023-02-17 20:38:15.976208Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2023-02-17 20:38:15.976224Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2023-02-17 20:38:15.976233Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2023-02-17 20:38:15.976252Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2023-02-17 20:38:15.976266Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2023-02-17 20:38:15.976277Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2023-02-17 20:38:15.976291Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2023-02-17 20:38:15.976300Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-17 20:38:15.977531Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-17 20:38:15.977555Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-17 20:38:15.977569Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-17 20:38:15.977581Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-17 20:38:15.977597Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2023-02-17 20:38:15.977621Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-02-17 20:38:15.977656Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2023-02-17 20:38:15.977669Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2023-02-17 20:38:15.977679Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2023-02-17 20:38:15.977688Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-17 20:38:15.979043Z	info	base	api/config.go:333	
2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-17 20:38:15.979089Z	info	base	api/config.go:338	
-------2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, All plugins and engine initialized successfully-------
2023-02-17 20:38:15.979170Z	info	base	common/cache_persist.go:163	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-02-17 20:38:15.979208Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 2.0.0, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-02-17 20:38:15.979230Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-17 20:38:15.979239Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-17 20:38:15.979254Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-17 20:38:15.979261Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-17 20:38:15.979268Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-17 20:38:15.979274Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-17 20:38:15.979280Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-17 20:38:15.979289Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-17 20:38:15.979298Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-17 20:38:15.979304Z	info	base	api/config.go:348	
-------2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, All plugins and engine started successfully-------
2023-02-17 20:38:15.979319Z	info	base	api/config.go:356	
-------2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, SDKContext init successfully-------
2023-02-17 20:38:15.979362Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-17 20:38:15.979393Z	info	base	inmemory/inmemory.go:545	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-17 20:38:15.979415Z	info	base	common/discover.go:1124	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-17 20:38:15.979431Z	info	base	common/discover.go:1132	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-17 20:38:15.979441Z	info	base	inmemory/inmemory.go:547	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-02-17 20:38:15.979453Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-17 20:38:15.979464Z	info	base	inmemory/inmemory.go:545	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-17 20:38:15.979471Z	info	base	common/discover.go:1124	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-17 20:38:15.979484Z	info	base	common/discover.go:1132	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-17 20:38:15.979491Z	info	base	inmemory/inmemory.go:547	2EBEB8E3-E55A-4412-B5AE-185AE5171B5B, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-02-20 12:02:17.536532Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-20 12:02:17.536660Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 3694374, UID: DAC47C63-BEFC-4B83-9F48-C6D97637BC10, CONTAINER: , HOSTNAME:-------
2023-02-20 12:02:17.536775Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-20 12:02:17.536800Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-20 12:02:17.536809Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-20 12:02:17.536817Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-20 12:02:17.536823Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-20 12:02:17.536832Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-20 12:02:17.537057Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-20 12:02:17.537070Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-20 12:02:17.537077Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-20 12:02:17.537083Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-20 12:02:17.537091Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-20 12:02:17.537300Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-20 12:02:17.537514Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-20 12:02:17.537526Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-20 12:02:17.537537Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-20 12:02:17.537544Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-20 12:02:17.537550Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-20 12:02:17.537567Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-20 12:02:17.537576Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-20 12:02:17.537583Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-20 12:02:17.537591Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-20 12:02:17.537598Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-20 12:02:17.540858Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-20 12:02:17.540895Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-20 12:02:17.540910Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-20 12:02:17.540919Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-20 12:02:17.540931Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-20 12:02:17.540941Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-02-20 12:02:17.540976Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-20 12:02:17.540989Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-20 12:02:17.540997Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-20 12:02:17.541004Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-20 12:02:17.541798Z	info	base	api/config.go:333	
DAC47C63-BEFC-4B83-9F48-C6D97637BC10, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-20 12:02:17.541830Z	info	base	api/config.go:338	
-------DAC47C63-BEFC-4B83-9F48-C6D97637BC10, All plugins and engine initialized successfully-------
2023-02-20 12:02:17.541894Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-02-20 12:02:17.542708Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-02-20 12:02:17.542729Z	info	base	startup/client_report.go:144	client area info is ready
2023-02-20 12:02:17.542752Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-20 12:02:17.542770Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-20 12:02:17.542782Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-20 12:02:17.542796Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-20 12:02:17.542806Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-20 12:02:17.542826Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-20 12:02:17.542840Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-20 12:02:17.542847Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-20 12:02:17.542857Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-20 12:02:17.542862Z	info	base	api/config.go:348	
-------DAC47C63-BEFC-4B83-9F48-C6D97637BC10, All plugins and engine started successfully-------
2023-02-20 12:02:17.543210Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-20 12:02:17.543228Z	info	base	api/config.go:356	
-------DAC47C63-BEFC-4B83-9F48-C6D97637BC10, SDKContext init successfully-------
2023-02-20 12:02:17.543279Z	info	base	inmemory/inmemory.go:545	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-02-20 12:02:17.543311Z	info	base	common/discover.go:1121	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-20 12:02:17.543336Z	info	base	common/discover.go:1129	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-02-20 12:02:17.543356Z	info	base	inmemory/inmemory.go:547	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-02-20 12:02:17.543384Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-20 12:02:17.543445Z	info	base	inmemory/inmemory.go:545	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-02-20 12:02:17.543472Z	info	base	common/discover.go:1121	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-20 12:02:17.543489Z	info	base	common/discover.go:1129	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-02-20 12:02:17.543505Z	info	base	inmemory/inmemory.go:547	DAC47C63-BEFC-4B83-9F48-C6D97637BC10, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-02-20 12:02:17.543534Z	warn	base	config/default.go:396	no IP or interface name configured
2023-02-20 12:02:17.543599Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 3694374, UID: 3B187087-AA64-4903-8D70-8CFB9DBED7ED, CONTAINER: , HOSTNAME:-------
2023-02-20 12:02:17.543733Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-02-20 12:02:17.543760Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-02-20 12:02:17.543780Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-02-20 12:02:17.543800Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-02-20 12:02:17.543819Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-02-20 12:02:17.543855Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-02-20 12:02:17.544457Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-02-20 12:02:17.544490Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-02-20 12:02:17.544500Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-02-20 12:02:17.544510Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-02-20 12:02:17.544523Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-02-20 12:02:17.544530Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-02-20 12:02:17.544539Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-02-20 12:02:17.544747Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:45662, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-02-20 12:02:17.544777Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-02-20 12:02:17.545012Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-02-20 12:02:17.545027Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-02-20 12:02:17.545035Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-02-20 12:02:17.545043Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-02-20 12:02:17.545057Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-02-20 12:02:17.545067Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-02-20 12:02:17.545080Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-02-20 12:02:17.545088Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-02-20 12:02:17.546616Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-02-20 12:02:17.546641Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-02-20 12:02:17.546658Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-02-20 12:02:17.546675Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-02-20 12:02:17.546684Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-02-20 12:02:17.546709Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-02-20 12:02:17.546739Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-02-20 12:02:17.546755Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-02-20 12:02:17.546763Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-02-20 12:02:17.546776Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-02-20 12:02:17.547648Z	info	base	api/config.go:333	
3B187087-AA64-4903-8D70-8CFB9DBED7ED, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-02-20 12:02:17.547681Z	info	base	api/config.go:338	
-------3B187087-AA64-4903-8D70-8CFB9DBED7ED, All plugins and engine initialized successfully-------
2023-02-20 12:02:17.547759Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-02-20 12:02:17.547793Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-02-20 12:02:17.547814Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-02-20 12:02:17.547832Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-02-20 12:02:17.547852Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-02-20 12:02:17.547865Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-02-20 12:02:17.547874Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-02-20 12:02:17.547892Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-02-20 12:02:17.547906Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-02-20 12:02:17.547915Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-02-20 12:02:17.547933Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-02-20 12:02:17.547942Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-20 12:02:17.547947Z	info	base	api/config.go:348	
-------3B187087-AA64-4903-8D70-8CFB9DBED7ED, All plugins and engine started successfully-------
2023-02-20 12:02:17.547969Z	info	base	inmemory/inmemory.go:545	3B187087-AA64-4903-8D70-8CFB9DBED7ED, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-02-20 12:02:17.547981Z	info	base	api/config.go:356	
-------3B187087-AA64-4903-8D70-8CFB9DBED7ED, SDKContext init successfully-------
2023-02-20 12:02:17.547989Z	info	base	common/discover.go:1121	3B187087-AA64-4903-8D70-8CFB9DBED7ED, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-20 12:02:17.548002Z	info	base	common/discover.go:1129	3B187087-AA64-4903-8D70-8CFB9DBED7ED, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-02-20 12:02:17.548009Z	info	base	inmemory/inmemory.go:547	3B187087-AA64-4903-8D70-8CFB9DBED7ED, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-02-20 12:02:17.548026Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-20 12:02:17.548037Z	info	base	inmemory/inmemory.go:545	3B187087-AA64-4903-8D70-8CFB9DBED7ED, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-02-20 12:02:17.548048Z	info	base	common/discover.go:1121	3B187087-AA64-4903-8D70-8CFB9DBED7ED, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-20 12:02:17.548055Z	info	base	common/discover.go:1129	3B187087-AA64-4903-8D70-8CFB9DBED7ED, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-02-20 12:02:17.548072Z	info	base	inmemory/inmemory.go:547	3B187087-AA64-4903-8D70-8CFB9DBED7ED, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-04-14 17:50:21.575970Z	warn	base	config/default.go:404	no IP or interface name configured
2023-04-14 17:50:21.576135Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.4.0, IP: , PID: 2243347, UID: 351E4C06-2CE7-4493-A918-87B1427B5F59, CONTAINER: , HOSTNAME:-------
2023-04-14 17:50:21.582791Z	info	base	grpc/operation_async.go:91	set grpc plugin as connectionCreator
2023-04-14 17:50:21.582841Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2023-04-14 17:50:21.582861Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-14 17:50:21.583076Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-14 17:50:21.583297Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-14 17:50:21.583311Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-14 17:50:21.583320Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-14 17:50:21.583330Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-14 17:50:21.584224Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2023-04-14 17:50:21.584301Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2023-04-14 17:50:21.584311Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2023-04-14 17:50:21.584327Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2023-04-14 17:50:21.584338Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2023-04-14 17:50:21.584348Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2023-04-14 17:50:21.584550Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2023-04-14 17:50:21.584566Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2023-04-14 17:50:21.584572Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2023-04-14 17:50:21.584581Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2023-04-14 17:50:21.584589Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2023-04-14 17:50:21.584599Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2023-04-14 17:50:21.584610Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2023-04-14 17:50:21.584617Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-14 17:50:21.586572Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-14 17:50:21.586609Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-14 17:50:21.586626Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-14 17:50:21.586637Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-14 17:50:21.586646Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2023-04-14 17:50:21.586662Z	info	base	inmemory/inmemory.go:171	LocalCache Real persistDir:/root/polaris/backup
2023-04-14 17:50:21.586756Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2023-04-14 17:50:21.586782Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2023-04-14 17:50:21.586792Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2023-04-14 17:50:21.586801Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-14 17:50:21.587551Z	info	base	api/config.go:333	
351E4C06-2CE7-4493-A918-87B1427B5F59, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
    apiVersion: v2
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    watchTimeout: 1m0s
    connectionIdleTimeout: 5s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    apiVersion: v2
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
  authority:
    appId: ""
    appToken: ""
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    maxSleepWindow: 30s
    expansionFactor: 2
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      maxSleepWindow: 30s
      expansionFactor: 2
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s
    expireFactor: 10s

2023-04-14 17:50:21.587578Z	info	base	api/config.go:338	
-------351E4C06-2CE7-4493-A918-87B1427B5F59, All plugins and engine initialized successfully-------
2023-04-14 17:50:21.587638Z	info	base	common/cache_persist.go:184	Start to load cache from /root/polaris/backup/client_info.json
2023-04-14 17:50:21.587650Z	info	base	network/impl.go:361	connectionManager start updateDiscover
2023-04-14 17:50:21.587687Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup/client_info.json failed after retry 0 times polaris-go version: 2.4.0, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup/client_info.json: no such file or directory
2023-04-14 17:50:21.587706Z	info	base	schedule/routines.go:229	item clientReportTask in task clientReportTask has added
2023-04-14 17:50:21.587715Z	info	base	schedule/routines.go:116	task clientReportTask started period 5m0s
2023-04-14 17:50:21.587728Z	info	base	schedule/routines.go:276	task clientReportTask has been started
2023-04-14 17:50:21.587734Z	info	base	schedule/routines.go:229	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-14 17:50:21.587740Z	info	base	schedule/routines.go:116	task sdkConfigReportTask started period 2m30s
2023-04-14 17:50:21.587746Z	info	base	schedule/routines.go:276	task sdkConfigReportTask has been started
2023-04-14 17:50:21.587750Z	info	base	inmemory/inmemory.go:1217	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-14 17:50:21.587764Z	info	base	inmemory/inmemory.go:551	351E4C06-2CE7-4493-A918-87B1427B5F59, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-14 17:50:21.587775Z	info	base	common/register.go:52	351E4C06-2CE7-4493-A918-87B1427B5F59, addTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, initialized: firstTask}
2023-04-14 17:50:21.587783Z	info	base	common/register.go:65	351E4C06-2CE7-4493-A918-87B1427B5F59, addTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, initialized: firstTask}
2023-04-14 17:50:21.587794Z	info	base	inmemory/inmemory.go:553	351E4C06-2CE7-4493-A918-87B1427B5F59, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-04-14 17:50:21.587806Z	info	base	inmemory/inmemory.go:1217	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-14 17:50:21.587750Z	info	base	api/config.go:348	
-------351E4C06-2CE7-4493-A918-87B1427B5F59, All plugins and engine started successfully-------
2023-04-14 17:50:21.587826Z	info	base	network/impl.go:401	get connection of builtin for Discover
2023-04-14 17:50:21.587852Z	info	base	api/config.go:356	
-------351E4C06-2CE7-4493-A918-87B1427B5F59, SDKContext init successfully-------
2023-04-14 17:50:21.587813Z	info	base	inmemory/inmemory.go:551	351E4C06-2CE7-4493-A918-87B1427B5F59, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-14 17:50:21.587922Z	info	base	common/register.go:52	351E4C06-2CE7-4493-A918-87B1427B5F59, addTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, initialized: firstTask}
2023-04-14 17:50:21.588313Z	info	base	common/register.go:65	351E4C06-2CE7-4493-A918-87B1427B5F59, addTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, initialized: firstTask}
2023-04-14 17:50:21.588344Z	info	base	inmemory/inmemory.go:553	351E4C06-2CE7-4493-A918-87B1427B5F59, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-04-14 17:50:21.588599Z	warn	base	config/default.go:404	no IP or interface name configured
2023-04-14 17:50:21.588684Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 2.4.0, IP: , PID: 2243347, UID: 7E732334-5286-4476-BD64-9B11AC8194FB, CONTAINER: , HOSTNAME:-------
2023-04-14 17:50:21.588790Z	info	base	grpc/operation_async.go:91	set grpc plugin as connectionCreator
2023-04-14 17:50:21.588825Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 7
2023-04-14 17:50:21.589329Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-14 17:50:21.589358Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-14 17:50:21.589367Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-14 17:50:21.589378Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-14 17:50:21.589375Z	info	base	grpc/creator.go:94	localAddress from connection is 9.135.226.157:58156, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-04-14 17:50:21.589385Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-14 17:50:21.589692Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-14 17:50:21.589706Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 15
2023-04-14 17:50:21.589713Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 16
2023-04-14 17:50:21.589719Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 17
2023-04-14 17:50:21.589899Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 18
2023-04-14 17:50:21.590100Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 12
2023-04-14 17:50:21.590111Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 13
2023-04-14 17:50:21.590117Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 14
2023-04-14 17:50:21.590123Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 2
2023-04-14 17:50:21.590133Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 3
2023-04-14 17:50:21.590139Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 4
2023-04-14 17:50:21.590146Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 11
2023-04-14 17:50:21.590151Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 9
2023-04-14 17:50:21.590159Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 10
2023-04-14 17:50:21.590181Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-14 17:50:21.591370Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-14 17:50:21.591391Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-14 17:50:21.591402Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-14 17:50:21.591413Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-14 17:50:21.591418Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 8
2023-04-14 17:50:21.591426Z	info	base	inmemory/inmemory.go:171	LocalCache Real persistDir:/root/polaris/backup_USA
2023-04-14 17:50:21.591472Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 1
2023-04-14 17:50:21.591484Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 5
2023-04-14 17:50:21.591490Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 6
2023-04-14 17:50:21.591495Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-14 17:50:21.592123Z	info	base	api/config.go:333	
7E732334-5286-4476-BD64-9B11AC8194FB, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
    apiVersion: v2
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    watchTimeout: 1m0s
    connectionIdleTimeout: 5s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    apiVersion: v2
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
  authority:
    appId: ""
    appToken: ""
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    maxSleepWindow: 30s
    expansionFactor: 2
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      maxSleepWindow: 30s
      expansionFactor: 2
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s
    expireFactor: 10s

2023-04-14 17:50:21.592151Z	info	base	api/config.go:338	
-------7E732334-5286-4476-BD64-9B11AC8194FB, All plugins and engine initialized successfully-------
2023-04-14 17:50:21.592221Z	info	base	common/cache_persist.go:184	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-04-14 17:50:21.592228Z	info	base	network/impl.go:361	connectionManager start updateDiscover
2023-04-14 17:50:21.592252Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 2.4.0, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-04-14 17:50:21.592274Z	info	base	schedule/routines.go:229	item clientReportTask in task clientReportTask has added
2023-04-14 17:50:21.592284Z	info	base	schedule/routines.go:116	task clientReportTask started period 5m0s
2023-04-14 17:50:21.592308Z	info	base	schedule/routines.go:276	task clientReportTask has been started
2023-04-14 17:50:21.592308Z	info	base	inmemory/inmemory.go:1217	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-14 17:50:21.592314Z	info	base	schedule/routines.go:229	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-14 17:50:21.592321Z	info	base	schedule/routines.go:116	task sdkConfigReportTask started period 2m30s
2023-04-14 17:50:21.592323Z	info	base	inmemory/inmemory.go:551	7E732334-5286-4476-BD64-9B11AC8194FB, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-14 17:50:21.592326Z	info	base	schedule/routines.go:276	task sdkConfigReportTask has been started
2023-04-14 17:50:21.592333Z	info	base	common/register.go:52	7E732334-5286-4476-BD64-9B11AC8194FB, addTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, initialized: firstTask}
2023-04-14 17:50:21.592341Z	info	base	common/register.go:65	7E732334-5286-4476-BD64-9B11AC8194FB, addTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, initialized: firstTask}
2023-04-14 17:50:21.592347Z	info	base	inmemory/inmemory.go:553	7E732334-5286-4476-BD64-9B11AC8194FB, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-04-14 17:50:21.592331Z	info	base	api/config.go:348	
-------7E732334-5286-4476-BD64-9B11AC8194FB, All plugins and engine started successfully-------
2023-04-14 17:50:21.592373Z	info	base	network/impl.go:401	get connection of builtin for Discover
2023-04-14 17:50:21.592377Z	info	base	api/config.go:356	
-------7E732334-5286-4476-BD64-9B11AC8194FB, SDKContext init successfully-------
2023-04-14 17:50:21.592358Z	info	base	inmemory/inmemory.go:1217	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-14 17:50:21.592465Z	info	base	inmemory/inmemory.go:551	7E732334-5286-4476-BD64-9B11AC8194FB, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-14 17:50:21.592482Z	info	base	common/register.go:52	7E732334-5286-4476-BD64-9B11AC8194FB, addTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, initialized: firstTask}
2023-04-14 17:50:21.592490Z	info	base	common/register.go:65	7E732334-5286-4476-BD64-9B11AC8194FB, addTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, initialized: firstTask}
2023-04-14 17:50:21.592496Z	info	base	inmemory/inmemory.go:553	7E732334-5286-4476-BD64-9B11AC8194FB, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-04-14 17:50:21.593001Z	info	base	grpc/creator.go:94	localAddress from connection is 9.135.226.157:35204, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-04-26 12:02:55.538380Z	warn	base	config/default.go:396	no IP or interface name configured
2023-04-26 12:02:55.549555Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 1935306, UID: 0062B681-44D3-40F5-B836-9C78513D4DEF, CONTAINER: , HOSTNAME:-------
2023-04-26 12:02:55.549661Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-04-26 12:02:55.549684Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-04-26 12:02:55.549697Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-26 12:02:55.549707Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-26 12:02:55.549923Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-26 12:02:55.549936Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-26 12:02:55.549941Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-26 12:02:55.549947Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-26 12:02:55.550150Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-04-26 12:02:55.550365Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-04-26 12:02:55.550377Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-04-26 12:02:55.550383Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-04-26 12:02:55.550388Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-04-26 12:02:55.550394Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-04-26 12:02:55.550402Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-04-26 12:02:55.550407Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-04-26 12:02:55.550413Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-04-26 12:02:55.550418Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-04-26 12:02:55.550424Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-04-26 12:02:55.550430Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-04-26 12:02:55.550436Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-04-26 12:02:55.550442Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-26 12:02:55.553604Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-26 12:02:55.553664Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-26 12:02:55.553677Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-26 12:02:55.553685Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-26 12:02:55.553692Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-04-26 12:02:55.553703Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-04-26 12:02:55.553738Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-04-26 12:02:55.553745Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-04-26 12:02:55.553751Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-04-26 12:02:55.553758Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-26 12:02:55.554518Z	info	base	api/config.go:333	
0062B681-44D3-40F5-B836-9C78513D4DEF, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-04-26 12:02:55.554552Z	info	base	api/config.go:338	
-------0062B681-44D3-40F5-B836-9C78513D4DEF, All plugins and engine initialized successfully-------
2023-04-26 12:02:55.554639Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-04-26 12:02:55.555490Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-04-26 12:02:55.555516Z	info	base	startup/client_report.go:144	client area info is ready
2023-04-26 12:02:55.555529Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-04-26 12:02:55.555537Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-04-26 12:02:55.555550Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-04-26 12:02:55.555556Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-04-26 12:02:55.555562Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-04-26 12:02:55.555568Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-04-26 12:02:55.555573Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-26 12:02:55.555588Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-04-26 12:02:55.555596Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-04-26 12:02:55.555604Z	info	base	api/config.go:348	
-------0062B681-44D3-40F5-B836-9C78513D4DEF, All plugins and engine started successfully-------
2023-04-26 12:02:55.555616Z	info	base	api/config.go:356	
-------0062B681-44D3-40F5-B836-9C78513D4DEF, SDKContext init successfully-------
2023-04-26 12:02:55.555661Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-26 12:02:55.555692Z	info	base	inmemory/inmemory.go:545	0062B681-44D3-40F5-B836-9C78513D4DEF, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-26 12:02:55.555705Z	info	base	common/discover.go:1121	0062B681-44D3-40F5-B836-9C78513D4DEF, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-04-26 12:02:55.555826Z	warn	base	config/default.go:396	no IP or interface name configured
2023-04-26 12:02:55.556117Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 1935306, UID: E9FAD171-5785-4DC0-8D19-A82AF571AD80, CONTAINER: , HOSTNAME:-------
2023-04-26 12:02:55.556116Z	info	base	common/discover.go:1129	0062B681-44D3-40F5-B836-9C78513D4DEF, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-04-26 12:02:55.556205Z	info	base	inmemory/inmemory.go:547	0062B681-44D3-40F5-B836-9C78513D4DEF, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-04-26 12:02:55.556251Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-26 12:02:55.556263Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-04-26 12:02:55.556279Z	info	base	inmemory/inmemory.go:545	0062B681-44D3-40F5-B836-9C78513D4DEF, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-26 12:02:55.556316Z	info	base	common/discover.go:1121	0062B681-44D3-40F5-B836-9C78513D4DEF, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-04-26 12:02:55.556341Z	info	base	common/discover.go:1129	0062B681-44D3-40F5-B836-9C78513D4DEF, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-04-26 12:02:55.556355Z	info	base	inmemory/inmemory.go:547	0062B681-44D3-40F5-B836-9C78513D4DEF, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-04-26 12:02:55.556303Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-04-26 12:02:55.557025Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-26 12:02:55.557052Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-26 12:02:55.557063Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-26 12:02:55.557073Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-26 12:02:55.557082Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-26 12:02:55.557090Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-26 12:02:55.557312Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-04-26 12:02:55.557327Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-04-26 12:02:55.557380Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-04-26 12:02:55.557387Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-04-26 12:02:55.557393Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-04-26 12:02:55.557400Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-04-26 12:02:55.557470Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:37940, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-04-26 12:02:55.557634Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-04-26 12:02:55.557648Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-04-26 12:02:55.557654Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-04-26 12:02:55.557660Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-04-26 12:02:55.557667Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-04-26 12:02:55.557674Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-04-26 12:02:55.557682Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-04-26 12:02:55.557688Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-26 12:02:55.558894Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-26 12:02:55.558915Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-26 12:02:55.558926Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-26 12:02:55.558934Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-26 12:02:55.558939Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-04-26 12:02:55.558953Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-04-26 12:02:55.558980Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-04-26 12:02:55.558988Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-04-26 12:02:55.558993Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-04-26 12:02:55.558999Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-26 12:02:55.559652Z	info	base	api/config.go:333	
E9FAD171-5785-4DC0-8D19-A82AF571AD80, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-04-26 12:02:55.559677Z	info	base	api/config.go:338	
-------E9FAD171-5785-4DC0-8D19-A82AF571AD80, All plugins and engine initialized successfully-------
2023-04-26 12:02:55.559724Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-04-26 12:02:55.559751Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-04-26 12:02:55.559764Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-04-26 12:02:55.559772Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-04-26 12:02:55.559782Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-04-26 12:02:55.559788Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-04-26 12:02:55.559794Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-04-26 12:02:55.559800Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-04-26 12:02:55.559805Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-26 12:02:55.559810Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-04-26 12:02:55.559815Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-04-26 12:02:55.559820Z	info	base	api/config.go:348	
-------E9FAD171-5785-4DC0-8D19-A82AF571AD80, All plugins and engine started successfully-------
2023-04-26 12:02:55.559829Z	info	base	api/config.go:356	
-------E9FAD171-5785-4DC0-8D19-A82AF571AD80, SDKContext init successfully-------
2023-04-26 12:02:55.559899Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-26 12:02:55.559925Z	info	base	inmemory/inmemory.go:545	E9FAD171-5785-4DC0-8D19-A82AF571AD80, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-26 12:02:55.559940Z	info	base	common/discover.go:1121	E9FAD171-5785-4DC0-8D19-A82AF571AD80, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-04-26 12:02:55.559947Z	info	base	common/discover.go:1129	E9FAD171-5785-4DC0-8D19-A82AF571AD80, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-04-26 12:02:55.559953Z	info	base	inmemory/inmemory.go:547	E9FAD171-5785-4DC0-8D19-A82AF571AD80, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-04-26 12:02:55.559965Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-26 12:02:55.559972Z	info	base	inmemory/inmemory.go:545	E9FAD171-5785-4DC0-8D19-A82AF571AD80, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-26 12:02:55.559979Z	info	base	common/discover.go:1121	E9FAD171-5785-4DC0-8D19-A82AF571AD80, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-04-26 12:02:55.559985Z	info	base	common/discover.go:1129	E9FAD171-5785-4DC0-8D19-A82AF571AD80, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-04-26 12:02:55.559991Z	info	base	inmemory/inmemory.go:547	E9FAD171-5785-4DC0-8D19-A82AF571AD80, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-04-26 12:03:17.956277Z	warn	base	config/default.go:396	no IP or interface name configured
2023-04-26 12:03:17.956395Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 1937114, UID: FD47FC40-4B25-428D-846E-FACF3817FAB9, CONTAINER: , HOSTNAME:-------
2023-04-26 12:03:17.956510Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-04-26 12:03:17.956535Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-04-26 12:03:17.956544Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-26 12:03:17.956550Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-26 12:03:17.956557Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-26 12:03:17.956756Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-26 12:03:17.956767Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-26 12:03:17.956772Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-26 12:03:17.956975Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-04-26 12:03:17.956988Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-04-26 12:03:17.956994Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-04-26 12:03:17.956999Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-04-26 12:03:17.957004Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-04-26 12:03:17.957010Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-04-26 12:03:17.957226Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-04-26 12:03:17.957238Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-04-26 12:03:17.957244Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-04-26 12:03:17.957256Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-04-26 12:03:17.957262Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-04-26 12:03:17.957268Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-04-26 12:03:17.957278Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-04-26 12:03:17.957283Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-26 12:03:17.960459Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-26 12:03:17.960519Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-26 12:03:17.960532Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-26 12:03:17.960541Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-26 12:03:17.960548Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-04-26 12:03:17.960559Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-04-26 12:03:17.960594Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-04-26 12:03:17.960602Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-04-26 12:03:17.960608Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-04-26 12:03:17.960615Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-26 12:03:17.961371Z	info	base	api/config.go:333	
FD47FC40-4B25-428D-846E-FACF3817FAB9, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-04-26 12:03:17.961398Z	info	base	api/config.go:338	
-------FD47FC40-4B25-428D-846E-FACF3817FAB9, All plugins and engine initialized successfully-------
2023-04-26 12:03:17.961500Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-04-26 12:03:17.962384Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-04-26 12:03:17.962411Z	info	base	startup/client_report.go:144	client area info is ready
2023-04-26 12:03:17.962422Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-04-26 12:03:17.962431Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-04-26 12:03:17.962443Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-04-26 12:03:17.962453Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-04-26 12:03:17.962460Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-04-26 12:03:17.962466Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-04-26 12:03:17.962471Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-26 12:03:17.962476Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-04-26 12:03:17.962490Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-04-26 12:03:17.962495Z	info	base	api/config.go:348	
-------FD47FC40-4B25-428D-846E-FACF3817FAB9, All plugins and engine started successfully-------
2023-04-26 12:03:17.962505Z	info	base	api/config.go:356	
-------FD47FC40-4B25-428D-846E-FACF3817FAB9, SDKContext init successfully-------
2023-04-26 12:03:17.962695Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-26 12:03:17.962807Z	warn	base	config/default.go:396	no IP or interface name configured
2023-04-26 12:03:17.962822Z	info	base	inmemory/inmemory.go:545	FD47FC40-4B25-428D-846E-FACF3817FAB9, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-26 12:03:17.962859Z	info	base	common/discover.go:1121	FD47FC40-4B25-428D-846E-FACF3817FAB9, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-04-26 12:03:17.962881Z	info	base	common/discover.go:1129	FD47FC40-4B25-428D-846E-FACF3817FAB9, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-04-26 12:03:17.962889Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 1937114, UID: DFDAFD09-0471-4673-8D17-4C33BD094007, CONTAINER: , HOSTNAME:-------
2023-04-26 12:03:17.962899Z	info	base	inmemory/inmemory.go:547	FD47FC40-4B25-428D-846E-FACF3817FAB9, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-04-26 12:03:17.962922Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-26 12:03:17.962942Z	info	base	inmemory/inmemory.go:545	FD47FC40-4B25-428D-846E-FACF3817FAB9, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-26 12:03:17.962958Z	info	base	common/discover.go:1121	FD47FC40-4B25-428D-846E-FACF3817FAB9, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-04-26 12:03:17.962977Z	info	base	common/discover.go:1129	FD47FC40-4B25-428D-846E-FACF3817FAB9, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-04-26 12:03:17.962988Z	info	base	inmemory/inmemory.go:547	FD47FC40-4B25-428D-846E-FACF3817FAB9, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-04-26 12:03:17.963011Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-04-26 12:03:17.963035Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-04-26 12:03:17.963048Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-26 12:03:17.963056Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-26 12:03:17.963671Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-26 12:03:17.963701Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-26 12:03:17.963714Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-26 12:03:17.963721Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-26 12:03:17.963731Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-04-26 12:03:17.963739Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-04-26 12:03:17.963748Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-04-26 12:03:17.964014Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-04-26 12:03:17.964233Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-04-26 12:03:17.964249Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-04-26 12:03:17.964257Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-04-26 12:03:17.964263Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-04-26 12:03:17.964268Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-04-26 12:03:17.964273Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-04-26 12:03:17.964280Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-04-26 12:03:17.964287Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-04-26 12:03:17.964293Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-04-26 12:03:17.964290Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:46520, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-04-26 12:03:17.964299Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-26 12:03:17.964320Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-26 12:03:17.964333Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-26 12:03:17.964340Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-26 12:03:17.965666Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-26 12:03:17.965686Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-04-26 12:03:17.965695Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-04-26 12:03:17.965721Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-04-26 12:03:17.965728Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-04-26 12:03:17.965733Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-04-26 12:03:17.965744Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-26 12:03:17.966394Z	info	base	api/config.go:333	
DFDAFD09-0471-4673-8D17-4C33BD094007, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-04-26 12:03:17.966420Z	info	base	api/config.go:338	
-------DFDAFD09-0471-4673-8D17-4C33BD094007, All plugins and engine initialized successfully-------
2023-04-26 12:03:17.966469Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-04-26 12:03:17.966509Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-04-26 12:03:17.966523Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-04-26 12:03:17.966531Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-04-26 12:03:17.966543Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-04-26 12:03:17.966549Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-04-26 12:03:17.966556Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-04-26 12:03:17.966563Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-04-26 12:03:17.966568Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-26 12:03:17.966574Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-04-26 12:03:17.966579Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-04-26 12:03:17.966584Z	info	base	api/config.go:348	
-------DFDAFD09-0471-4673-8D17-4C33BD094007, All plugins and engine started successfully-------
2023-04-26 12:03:17.966593Z	info	base	api/config.go:356	
-------DFDAFD09-0471-4673-8D17-4C33BD094007, SDKContext init successfully-------
2023-04-26 12:03:17.966678Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-26 12:03:17.966713Z	info	base	inmemory/inmemory.go:545	DFDAFD09-0471-4673-8D17-4C33BD094007, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-26 12:03:17.966729Z	info	base	common/discover.go:1121	DFDAFD09-0471-4673-8D17-4C33BD094007, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-04-26 12:03:17.966744Z	info	base	common/discover.go:1129	DFDAFD09-0471-4673-8D17-4C33BD094007, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-04-26 12:03:17.966751Z	info	base	inmemory/inmemory.go:547	DFDAFD09-0471-4673-8D17-4C33BD094007, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-04-26 12:03:17.966763Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-26 12:03:17.966771Z	info	base	inmemory/inmemory.go:545	DFDAFD09-0471-4673-8D17-4C33BD094007, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-26 12:03:17.966778Z	info	base	common/discover.go:1121	DFDAFD09-0471-4673-8D17-4C33BD094007, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-04-26 12:03:17.966783Z	info	base	common/discover.go:1129	DFDAFD09-0471-4673-8D17-4C33BD094007, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-04-26 12:03:17.966795Z	info	base	inmemory/inmemory.go:547	DFDAFD09-0471-4673-8D17-4C33BD094007, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
2023-04-26 14:18:16.952530Z	warn	base	config/default.go:396	no IP or interface name configured
2023-04-26 14:18:16.952664Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 2152819, UID: 7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, CONTAINER: , HOSTNAME:-------
2023-04-26 14:18:16.952756Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-04-26 14:18:16.952776Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-04-26 14:18:16.952789Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-26 14:18:16.952796Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-26 14:18:16.952801Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-26 14:18:16.952808Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-26 14:18:16.953012Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-26 14:18:16.953024Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-26 14:18:16.953029Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-04-26 14:18:16.953037Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-04-26 14:18:16.953254Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-04-26 14:18:16.953470Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-04-26 14:18:16.953483Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-04-26 14:18:16.953489Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-04-26 14:18:16.953497Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-04-26 14:18:16.953503Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-04-26 14:18:16.953509Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-04-26 14:18:16.953514Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-04-26 14:18:16.953520Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-04-26 14:18:16.953527Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-04-26 14:18:16.953534Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-04-26 14:18:16.953540Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-26 14:18:16.956374Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-26 14:18:16.956410Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-26 14:18:16.956422Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-26 14:18:16.956430Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-26 14:18:16.956436Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-04-26 14:18:16.956444Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup
2023-04-26 14:18:16.956483Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-04-26 14:18:16.956503Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-04-26 14:18:16.956511Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-04-26 14:18:16.956518Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-26 14:18:16.957277Z	info	base	api/config.go:333	
7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.141.66.219:8081
    - 9.141.65.110:8081
    - 9.141.65.29:8081
    - 9.141.121.7:8081
    - 9.146.200.81:8081
    - 9.146.202.35:8081
    - 9.146.205.191:8081
    - 9.146.200.61:8081
    - 9.141.66.244:8081
    - 9.146.202.27:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: ""
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 2s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-04-26 14:18:16.957303Z	info	base	api/config.go:338	
-------7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, All plugins and engine initialized successfully-------
2023-04-26 14:18:16.957372Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup/client_info.json
2023-04-26 14:18:16.958214Z	info	base	startup/client_report.go:138	current client area info is Host:9.135.226.157-{Region:华南, Zone:广州, Campus:广州三区}
2023-04-26 14:18:16.958238Z	info	base	startup/client_report.go:144	client area info is ready
2023-04-26 14:18:16.958248Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-04-26 14:18:16.958258Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-04-26 14:18:16.958270Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-04-26 14:18:16.958276Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-04-26 14:18:16.958285Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-04-26 14:18:16.958293Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-04-26 14:18:16.958301Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-26 14:18:16.958307Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-04-26 14:18:16.958312Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-04-26 14:18:16.958317Z	info	base	api/config.go:348	
-------7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, All plugins and engine started successfully-------
2023-04-26 14:18:16.958326Z	info	base	api/config.go:356	
-------7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, SDKContext init successfully-------
2023-04-26 14:18:16.958425Z	warn	base	config/default.go:396	no IP or interface name configured
2023-04-26 14:18:16.958458Z	info	base	api/config.go:306	
-------Start to init SDKContext of version 0.11.2, IP: , PID: 2152819, UID: 1FCE7A01-FB28-42B3-82C6-0C238CF9860F, CONTAINER: , HOSTNAME:-------
2023-04-26 14:18:16.958463Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-26 14:18:16.958502Z	info	base	inmemory/inmemory.go:545	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}
2023-04-26 14:18:16.958524Z	info	base	common/discover.go:1121	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-04-26 14:18:16.958523Z	info	base	grpc/operation_async.go:83	set grpc plugin as connectionCreator
2023-04-26 14:18:16.958547Z	info	base	plugin/manage.go:236	Initialized plugin type serverConnector, name grpc, id 18
2023-04-26 14:18:16.958559Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name dstMetaRouter, id 20
2023-04-26 14:18:16.958567Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name filterOnlyRouter, id 21
2023-04-26 14:18:16.958573Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name nearbyBasedRouter, id 22
2023-04-26 14:18:16.958535Z	info	base	common/discover.go:1129	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: instance, longRun: firstTask}
2023-04-26 14:18:16.958796Z	info	base	inmemory/inmemory.go:547	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: instance}, err <nil>
2023-04-26 14:18:16.959005Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-26 14:18:16.959030Z	info	base	inmemory/inmemory.go:545	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, start to register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}
2023-04-26 14:18:16.959050Z	info	base	common/discover.go:1121	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-04-26 14:18:16.959061Z	info	base	common/discover.go:1129	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover", event: routing, longRun: firstTask}
2023-04-26 14:18:16.959070Z	info	base	inmemory/inmemory.go:547	7C37B6CF-1970-4F23-8C9C-9033BBF67FA8, finish register event handler for {namespace: "Polaris", service: "polaris.discover", event: routing}, err <nil>
2023-04-26 14:18:16.959158Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name ruleBasedRouter, id 23
2023-04-26 14:18:16.959205Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name setDivisionRouter, id 24
2023-04-26 14:18:16.959241Z	info	base	plugin/manage.go:236	Initialized plugin type serviceRouter, name canaryRouter, id 19
2023-04-26 14:18:16.959257Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name l5cst, id 9
2023-04-26 14:18:16.959273Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name ringHash, id 10
2023-04-26 14:18:16.959551Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name weightedRandom, id 11
2023-04-26 14:18:16.959983Z	info	base	grpc/creator.go:82	localAddress from connection is 9.135.226.157:54598, IP is 9.135.226.157, hashValue is 5665045886207813890
2023-04-26 14:18:16.960081Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name dynamicWeightedRandom, id 5
2023-04-26 14:18:16.960111Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name hash, id 6
2023-04-26 14:18:16.960122Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name maglev, id 7
2023-04-26 14:18:16.960131Z	info	base	plugin/manage.go:236	Initialized plugin type loadBalancer, name cMurmurHash, id 8
2023-04-26 14:18:16.960137Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name udp, id 15
2023-04-26 14:18:16.960143Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name http, id 13
2023-04-26 14:18:16.960153Z	info	base	plugin/manage.go:236	Initialized plugin type outlierDetector, name tcp, id 14
2023-04-26 14:18:16.960160Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCheck, id 2
2023-04-26 14:18:16.960178Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorCount, id 3
2023-04-26 14:18:16.960184Z	info	base	plugin/manage.go:236	Initialized plugin type circuitBreaker, name errorRate, id 4
2023-04-26 14:18:16.960190Z	info	base	plugin/manage.go:236	Initialized plugin type weightAdjuster, name rateDelayAdjuster, id 30
2023-04-26 14:18:16.961341Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name stat2Monitor, id 25
2023-04-26 14:18:16.961361Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name rateLimitRecord, id 26
2023-04-26 14:18:16.961371Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceCache, id 27
2023-04-26 14:18:16.961378Z	info	base	plugin/manage.go:236	Initialized plugin type statReporter, name serviceRoute, id 28
2023-04-26 14:18:16.961384Z	info	base	plugin/manage.go:236	Initialized plugin type alarmReporter, name alarm2file, id 1
2023-04-26 14:18:16.961391Z	info	base	inmemory/inmemory.go:167	LocalCache Real persistDir:/root/polaris/backup_USA
2023-04-26 14:18:16.961424Z	info	base	plugin/manage.go:236	Initialized plugin type localRegistry, name inmemory, id 12
2023-04-26 14:18:16.961431Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name reject, id 16
2023-04-26 14:18:16.961436Z	info	base	plugin/manage.go:236	Initialized plugin type rateLimiter, name unirate, id 17
2023-04-26 14:18:16.961442Z	info	base	plugin/manage.go:236	Initialized plugin type subScribe, name subscribeLocalChannel, id 29
2023-04-26 14:18:16.962082Z	info	base	api/config.go:333	
1FCE7A01-FB28-42B3-82C6-0C238CF9860F, -------Configuration with default value-------
global:
  system:
    mode: 0
    discoverCluster:
      namespace: Polaris
      service: polaris.discover
      refreshInterval: 10m0s
    healthCheckCluster:
      namespace: Polaris
      service: polaris.healthcheck
      refreshInterval: 10m0s
    monitorCluster:
      namespace: Polaris
      service: polaris.monitor
      refreshInterval: 10m0s
    rateLimitCluster: null
    metricCluster: null
    dynamicWeightCluster:
      namespace: Polaris
      service: polaris.dynamic.weight
      refreshInterval: 10m0s
    variables: {}
  api:
    timeout: 1s
    bindIf: ""
    bindIP: ""
    reportInterval: 10m0s
    maxRetryTimes: 1
    retryInterval: 1s
    location:
      region: ""
      zone: ""
      campus: ""
      enableUpdate: true
  serverConnector:
    addresses:
    - 9.208.226.33:8081
    - 9.208.226.23:8081
    backupAddresses:
    - polaris-default.woa.com:8081
    protocol: grpc
    connectTimeout: 1s
    messageTimeout: 1.5s
    connectionIdleTimeout: 3s
    requestQueueSize: 1000
    serverSwitchInterval: 10m0s
    reconnectInterval: 500ms
    joinPoint: USA
    plugin:
      grpc:
        maxCallRecvMsgSize: 52428800
  statReporter:
    enable: true
    chain:
    - stat2Monitor
    - serviceCache
    - rateLimitRecord
    - serviceRoute
    plugin:
      rateLimitRecord:
        reportInterval: 1m0s
      serviceCache:
        reportInterval: 3m0s
      serviceRoute:
        reportInterval: 5m0s
      stat2Monitor:
        metricsReportWindow: 1m0s
        metricsNumBuckets: 12
consumer:
  localCache:
    serviceExpireTime: 24h0m0s
    serviceRefreshInterval: 1s
    persistDir: $HOME/polaris/backup
    enablePersistence: null
    type: inmemory
    persistMaxWriteRetry: 5
    persistMaxReadRetry: 1
    persistRetryInterval: 1s
    persistAvailableInterval: 1m0s
    startUseFileCache: true
    pushEmptyProtection: false
    plugin: {}
  serviceRouter:
    chain:
    - dstMetaRouter
    - ruleBasedRouter
    - nearbyBasedRouter
    plugin:
      nearbyBasedRouter:
        matchLevel: zone
        maxMatchLevel: ""
        strictNearby: false
        enableDegradeByUnhealthyPercent: true
        unhealthyPercentToDegrade: 100
    percentOfMinInstances: 0
    enableRecoverAll: true
  loadbalancer:
    type: weightedRandom
    plugin:
      hash:
        hashFunction: murmur3
      maglev:
        hashFunction: murmur3
        tableSize: 65537
      ringHash:
        hashFunction: murmur3
        vnodeCount: 10
  circuitBreaker:
    enable: true
    checkPeriod: 30s
    chain:
    - errorCount
    - errorRate
    - errorCheck
    sleepWindow: 30s
    requestCountAfterHalfOpen: 10
    successCountAfterHalfOpen: 8
    recoverWindow: 1m0s
    recoverNumBuckets: 10
    plugin:
      errorCount:
        continuousErrorThreshold: 10
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 10
      errorRate:
        requestVolumeThreshold: 10
        errorRatePercent: 50
        errorRateThreshold: 0
        metricStatTimeWindow: 1m0s
        metricNumBuckets: 5
  healthCheck:
    interval: 10s
    chain: []
    plugin:
      http:
        timeout: 100ms
        path: ""
      tcp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
      udp:
        timeout: 100ms
        retry: 0
        send: ""
        receive: ""
    when: never
    concurrency: 0
  subscribe:
    type: subscribeLocalChannel
    plugin:
      subscribeLocalChannel:
        channelBufferSize: 30
  servicesSpecific:
  - namespace: Polaris
    service: polaris.discover
    serviceRouter:
      chain:
      - dstMetaRouter
      - nearbyBasedRouter
      plugin:
        nearbyBasedRouter:
          matchLevel: region
          maxMatchLevel: ""
          strictNearby: false
          enableDegradeByUnhealthyPercent: true
          unhealthyPercentToDegrade: 100
      percentOfMinInstances: 0
      enableRecoverAll: true
    circuitBreaker:
      enable: true
      checkPeriod: 30s
      chain:
      - errorCount
      - errorRate
      - errorCheck
      sleepWindow: 30s
      requestCountAfterHalfOpen: 10
      successCountAfterHalfOpen: 8
      recoverWindow: 1m0s
      recoverNumBuckets: 10
      plugin:
        errorCount:
          continuousErrorThreshold: 1
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 10
        errorRate:
          requestVolumeThreshold: 10
          errorRatePercent: 50
          errorRateThreshold: 0
          metricStatTimeWindow: 1m0s
          metricNumBuckets: 5
    healthCheck:
      interval: 10s
      chain: []
      plugin:
        http:
          timeout: 100ms
          path: ""
        tcp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
        udp:
          timeout: 100ms
          retry: 0
          send: ""
          receive: ""
      when: never
      concurrency: 0
provider:
  rateLimit:
    enable: true
    plugin:
      unirate:
        maxQueuingTime: 1s
    mode: "\x01"
    rateLimitCluster:
      namespace: ""
      service: ""
      refreshInterval: 10m0s
    maxWindowSize: 20000
    purgeInterval: 1m0s

2023-04-26 14:18:16.962106Z	info	base	api/config.go:338	
-------1FCE7A01-FB28-42B3-82C6-0C238CF9860F, All plugins and engine initialized successfully-------
2023-04-26 14:18:16.962147Z	info	base	common/cache_persist.go:161	Start to load cache from /root/polaris/backup_USA/client_info.json
2023-04-26 14:18:16.962182Z	warn	base	startup/client_report.go:72	fail to load local region info from client_info.json, err is load message from /root/polaris/backup_USA/client_info.json failed after retry 0 times polaris-go version: 0.11.2, Polaris-3001(ErrCodeUnknown): fail to read file cache, cause: open /root/polaris/backup_USA/client_info.json: no such file or directory
2023-04-26 14:18:16.962196Z	info	base	schedule/routines.go:228	item clientReportTask in task clientReportTask has added
2023-04-26 14:18:16.962203Z	info	base	schedule/routines.go:115	task clientReportTask started period 5m0s
2023-04-26 14:18:16.962211Z	info	base	schedule/routines.go:273	task clientReportTask has been started
2023-04-26 14:18:16.962219Z	info	base	schedule/routines.go:228	item discoverService in task syncGetServerService has added
2023-04-26 14:18:16.962240Z	info	base	schedule/routines.go:115	task syncGetServerService started period 2.5s
2023-04-26 14:18:16.962247Z	info	base	schedule/routines.go:273	task syncGetServerService has been started
2023-04-26 14:18:16.962252Z	info	base	schedule/routines.go:228	item sdkConfigReportTask in task sdkConfigReportTask has added
2023-04-26 14:18:16.962257Z	info	base	schedule/routines.go:115	task sdkConfigReportTask started period 2m30s
2023-04-26 14:18:16.962263Z	info	base	schedule/routines.go:273	task sdkConfigReportTask has been started
2023-04-26 14:18:16.962267Z	info	base	api/config.go:348	
-------1FCE7A01-FB28-42B3-82C6-0C238CF9860F, All plugins and engine started successfully-------
2023-04-26 14:18:16.962277Z	info	base	api/config.go:356	
-------1FCE7A01-FB28-42B3-82C6-0C238CF9860F, SDKContext init successfully-------
2023-04-26 14:18:16.962320Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-26 14:18:16.962344Z	info	base	inmemory/inmemory.go:545	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}
2023-04-26 14:18:16.962354Z	info	base	common/discover.go:1121	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-04-26 14:18:16.962360Z	info	base	common/discover.go:1129	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: instance, longRun: firstTask}
2023-04-26 14:18:16.962366Z	info	base	inmemory/inmemory.go:547	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: instance}, err <nil>
2023-04-26 14:18:16.962376Z	info	base	inmemory/inmemory.go:1181	start to add load cache task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-26 14:18:16.962383Z	info	base	inmemory/inmemory.go:545	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, start to register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}
2023-04-26 14:18:16.962389Z	info	base	common/discover.go:1121	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, addFirstTask: start to add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-04-26 14:18:16.962395Z	info	base	common/discover.go:1129	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, addFirstTask: finish add first task for {namespace: "Polaris", service: "polaris.discover.usa", event: routing, longRun: firstTask}
2023-04-26 14:18:16.962400Z	info	base	inmemory/inmemory.go:547	1FCE7A01-FB28-42B3-82C6-0C238CF9860F, finish register event handler for {namespace: "Polaris", service: "polaris.discover.usa", event: routing}, err <nil>
